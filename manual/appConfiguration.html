<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | wootils</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A set of Javascript utilities for building Node and browser apps."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="wootils"><meta property="twitter:description" content="A set of Javascript utilities for building Node and browser apps."></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/homer0/wootils"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html" data-ice="link">AppConfiguration</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#loading-configurations-dynamically" data-ice="link">Loading configurations dynamically</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#using-it-without-environment-variables-" data-ice="link">Using it without environment variables.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#extending-configurations" data-ice="link">Extending configurations</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#get-and-set" data-ice="link">Get and Set</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#reading" data-ice="link">Reading</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#writing" data-ice="link">Writing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#switching-configurations-while-the-app-is-running" data-ice="link">Switching configurations while the app is running</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html" data-ice="link">EnvironmentUtils</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#reading-variables" data-ice="link">Reading variables</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#checking-the-environment" data-ice="link">Checking the environment</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html" data-ice="link">ErrorHandler</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/logger.html"><a href="manual/logger.html" data-ice="link">Logger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#colored-messages" data-ice="link">Colored messages</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#multiple-messages-at-once" data-ice="link">Multiple messages at once</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#prefix" data-ice="link">Prefix</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#date-and-time" data-ice="link">Date and Time</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#applogger" data-ice="link">appLogger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html" data-ice="link">packageInfo</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html" data-ice="link">PathUtils</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#build-paths-relative-to-the-project-root-directory" data-ice="link">Build paths relative to the project root directory</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#multiple-locations" data-ice="link">Multiple locations</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html" data-ice="link">rootRequire</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/APIClient.html"><a href="manual/APIClient.html" data-ice="link">APIClient</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/APIClient.html"><a href="manual/APIClient.html#configurable-endpoints" data-ice="link">Configurable endpoints</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#endpoint-objects" data-ice="link">Endpoint objects</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#sub-collections-of-endpoints" data-ice="link">Sub collections of endpoints</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#built-in-request-methods" data-ice="link">Built-in request methods</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#default-headers" data-ice="link">Default headers</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#authorization-token" data-ice="link">Authorization token</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/deferred.html"><a href="manual/deferred.html" data-ice="link">deferred</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/deferred.html"><a href="manual/deferred.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/deferred.html"><a href="manual/deferred.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html" data-ice="link">EventsHub</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#listen-and-emit" data-ice="link">Listen and emit</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#reduce-a-variable" data-ice="link">Reduce a variable</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html" data-ice="link">SimpleStorage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#basic" data-ice="link">Basic</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#working-with-entries" data-ice="link">Working with entries</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="appconfiguration">AppConfiguration</h1><p>This is a service to manage applications configurations. It takes care of loading, activating, switching and merging configuration files.</p>
<p>Managing configurations is always a pain on any kind of app, so the idea of this service is to just give it the minimal required information and it will take care of the rest.</p>
<h2 id="example">Example</h2><p>Let&apos;s say your app tree looks like this:</p>
<pre><code><code class="source-code prettyprint">myApp/
&#x251C;&#x2500;&#x2500; config/
&#x2502;   &#x251C;&#x2500;&#x2500; development.js
&#x2502;   &#x2514;&#x2500;&#x2500; production.js
&#x2514;&#x2500;&#x2500; app/
    &#x2514;&#x2500;&#x2500; index.js</code>
</code></pre><p>And you execute your app with something like</p>
<pre><code class="lang-bash"><code class="source-code prettyprint">node app</code>
</code></pre>
<p>If you don&apos;t have anything managing the configurations, you would probably have something like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const config = process.NODE_ENV === &apos;production&apos; ?
  require(&apos;../config/production&apos;) :
  require(&apos;../config/development&apos;);</code>
</code></pre>
<p>Maybe is different, but the point is that you may be checking the <code>NODE_ENV</code> to decide what to <code>require</code>.</p>
<p>Let&apos;s implement the same scenario with <code>AppConfiguration</code>:</p>
<blockquote>
<p>The service depends on <code>EnvironmentUtils</code> and <code>RootRequire</code> (which requires <code>PathUtils</code>) so you need to register them first.</p>
</blockquote>
<h3 id="without-jimple">Without Jimple</h3><blockquote>
<p>If you haven&apos;t tried <a href="https://github.com/fjorgemota/jimple">Jimple</a>, give it a try, it&apos;s excellent for organizing your app dependencies and services.</p>
</blockquote>
<p>Since Jimple solves the construction of the dependencies, this will be more of a <em>manual process</em>:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const {
  AppConfiguration,
  EnvironmentUtils,
  PathUtils,
  rootRequire,
} = require(&apos;wootils/node&apos;);

// Let&apos;s start with `EnvironmentUtils`, which is used to read the env variables.
const environmentUtils = new EnvironmentUtils();
// Now `PathUtils`, to build paths relative to the project root directory.
const pathUtils = new PathUtils();
// `rootRequire` for making `require`s relatives to the root directory.
const rootReq = rootRequire(pathUtils);</code>
</code></pre>
<p>With all the needed services ready, let&apos;s construct the <code>AppConfiguration</code>:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const appConfiguration = new AppConfiguration(
  environmentUtils,
  rootReq,
  &apos;myApp&apos;,
  {},
  {
    environmentVariable: &apos;CONFIG&apos;,
    path: &apos;./config/&apos;,
    filenameFormat: &apos;[name].js&apos;,
  },
);</code>
</code></pre>
<p>Done, we first sent the required services and then set the custom options we needed:</p>
<ol>
<li><code>myApp</code> is the name of the app, the service uses it on the default <code>path</code> and <code>filenameFormat</code> options, but in this case, we don&apos;t really need it for this scenario.</li>
<li><code>{}</code> That&apos;s the default configuration all the others will <em>&apos;extend&apos;</em>, in this case is not needed.</li>
<li>The options:<ul>
<li><code>environmentVariable</code>: The name of the variable the service will check to determine which configuration to use.</li>
<li><code>path</code>: The location of your configuration files.</li>
<li><code>filenameFormat</code>: The name format your files use. <code>[name]</code> will be replaced with the name of the configuration you want to use.</li>
</ul>
</li>
</ol>
<p>Now, there&apos;s only one thing to do:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">appConfiguration.loadFromEnvironment();</code>
</code></pre>
<p>With that, <code>AppConfiguration</code> will check the environment variable and load the configuration you require.</p>
<pre><code class="lang-bash"><code class="source-code prettyprint"># Load the development configuration
CONFIG=development node app

# Load the production configuration
CONFIG=production node app</code>
</code></pre>
<h3 id="with-jimple">With Jimple</h3><p>Let&apos;s create a dummy app and register the dependencies:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// Import all the required modules
const Jimple = require(&apos;jimple&apos;);
const {
  environmentUtils,
  rootRequire,
  pathUtils,
  appConfiguration,
} = require(&apos;wootils/node/providers&apos;);
// Create a dummy app
const app = new Jimple();
// Register the necessary services
app.register(environmentUtils);
app.register(rootRequire);
app.register(pathUtils);</code>
</code></pre>
<p>Now, to generate the <code>appConfiguration</code> service with the required settings to work with the scenario described above:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const myConfiguration = appConfiguration(
  &apos;myApp&apos;,
  {},
  {
    environmentVariable: &apos;CONFIG&apos;,
    path: &apos;./config/&apos;,
    filenameFormat: &apos;[name].js&apos;,
  },
);
app.register(myConfiguration);</code>
</code></pre>
<p>Done, the service is registered in the container. Let&apos;s explain a little bit why <em>&apos;those&apos;</em> parameters:</p>
<ol>
<li><code>myApp</code> is the name of the app, the service uses it on the default <code>path</code> and <code>filenameFormat</code> options, but in this case, we don&apos;t really need it for this scenario.</li>
<li><code>{}</code> That&apos;s the default configuration all the others will <em>&apos;extend&apos;</em>, in this case is not needed.</li>
<li>The options:<ul>
<li><code>environmentVariable</code>: The name of the variable the service will check to determine which configuration to use.</li>
<li><code>path</code>: The location of your configuration files.</li>
<li><code>filenameFormat</code>: The name format your files use. <code>[name]</code> will be replaced with the name of the configuration you want to use.</li>
</ul>
</li>
</ol>
<p>Now, there&apos;s only one thing to do:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">app.get(&apos;appConfiguration&apos;).loadFromEnvironment();</code>
</code></pre>
<p>With that, <code>AppConfiguration</code> will check the environment variable and load the configuration you require.</p>
<pre><code class="lang-bash"><code class="source-code prettyprint"># Load the development configuration
CONFIG=development node app

# Load the production configuration
CONFIG=production node app</code>
</code></pre>
<h2 id="features">Features</h2><h3 id="loading-configurations-dynamically">Loading configurations dynamically</h3><p>This was demonstrated on the example above. Instead of you having to manually check and indicate which file to <code>require</code>, <code>AppConfiguration</code> will handle the environment variable and the <code>require</code>, so once you do <code>loadFromEnvironment()</code> you get the configuration you need.</p>
<h3 id="using-it-without-environment-variables-">Using it without environment variables.</h3><p>This is not the most common case of use, but <code>AppConfiguration</code> allows you to manually load new configurations from an object or from a file:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">...
appConfiguration.load(&apos;my-new-config&apos;, { valueOne: &apos;one&apos; });</code>
</code></pre>
<p>or</p>
<pre><code class="lang-js"><code class="source-code prettyprint">appConfiguration.loadFromFile(&apos;my-new-config&apos;);
// And if you used the options from the example, it will load `/config/my-new-config.js`,
// or at least try :P.</code>
</code></pre>
<p>The idea of these methods is that if you don&apos;t want to relay on environment variables, you can build your own logic for loading and activating configurations.</p>
<h3 id="extending-configurations">Extending configurations</h3><p>By default, all the configurations extend from the default one you sent on the constructor, but you can set an <code>extend</code> key on your configurations with the name of the one you want to extend and the service will take care of looking for that configuration and making the new one extend from there.</p>
<p>If you are using <code>loadFromEnvironment()</code> or <code>loadFromFile()</code> and the configuration to extend is not registered in the service, it will try to load the file; but if you are using <code>load()</code>, the configuration needs to be registered or it will throw an error. It doesn&apos;t sound nice, but the point is to make clear that you are either working with files or with manual configurations.</p>
<h3 id="get-and-set">Get and Set</h3><p>Your configuration is not longer a literal object and the service provides a couple of methods to make your life easy when reading or writing settings:</p>
<h4 id="reading">Reading</h4><pre><code class="lang-js"><code class="source-code prettyprint">// Read a single setting
const value = appConfiguration.get(&apos;something&apos;);
// Reading multiple settings
const { valueOne, valueTwo } = appConfiguration.get([&apos;valueOne&apos;, &apos;valueTwo&apos;]);</code>
</code></pre>
<h4 id="writing">Writing</h4><blockquote>
<p>The changes won&apos;t affect a configuration file, they&apos;ll only affect the configuration loaded on the service.</p>
</blockquote>
<pre><code class="lang-js"><code class="source-code prettyprint">// Writing a single setting
appConfiguration.set(&apos;something&apos;, &apos;value&apos;);
// Write multiple settings
appConfiguration.write({
  valueOne: &apos;one&apos;,
  valueTwo: &apos;two&apos;,
});</code>
</code></pre>
<p>Another cool thing it does is when it writes a setting, if both the current and the new values are both Objects, it will merge them:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">appConfiguration.set(&apos;person&apos;, {
  name: &apos;Rosario&apos;,
  birthday: &apos;&apos;,
});
appConfiguration.set(&apos;person&apos;, {
  birthday: &apos;25-09-2015&apos;,
});
console.log(appConfiguration.get(&apos;person&apos;));
/**
 * Will output:
 * {
 *   name: &apos;Rosario&apos;,
 *   birthday: &apos;25-09-2015&apos;,
 * }
 */</code>
</code></pre>
<h3 id="switching-configurations-while-the-app-is-running">Switching configurations while the app is running</h3><p>There&apos;s a special rule behind this feature: The default configuration and/or the first configuration loaded needs to have a key name <code>allowConfigurationSwitch</code> set to <code>true</code> in order switch configurations. The reason of this rule is <strong>security</strong>: If you deployed to production and the you didn&apos;t turn off whatever you have that makes the service switch configurations, other people can use it. This way, you can have this enabled only on specifics configuration and disabled on others.</p>
<h2 id="technical-documentation">Technical documentation</h2><p>The code is fully documented with <a href="https://esdoc.org">ESDoc</a> and you can either read the generated documentation <a href="https://homer0.github.io/wootils/class/wootils/node/appConfiguration.js~AppConfiguration.html">online</a> or generate it yourself using:</p>
<pre><code class="lang-bash"><code class="source-code prettyprint"># You can either use npm or yarn, it doesn&apos;t matter
npm run docs
open ./docs/index.html</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
