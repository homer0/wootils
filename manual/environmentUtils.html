<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | wootils</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A set of Javascript utilities for building Node and browser apps."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="wootils"><meta property="twitter:description" content="A set of Javascript utilities for building Node and browser apps."></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/homer0/wootils"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html" data-ice="link">AppConfiguration</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#loading-configurations-dynamically" data-ice="link">Loading configurations dynamically</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#using-it-without-environment-variables-" data-ice="link">Using it without environment variables.</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#extending-configurations" data-ice="link">Extending configurations</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#get-and-set" data-ice="link">Get and Set</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#reading" data-ice="link">Reading</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#writing" data-ice="link">Writing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#switching-configurations-while-the-app-is-running" data-ice="link">Switching configurations while the app is running</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/appConfiguration.html"><a href="manual/appConfiguration.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html" data-ice="link">EnvironmentUtils</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#reading-variables" data-ice="link">Reading variables</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#checking-the-environment" data-ice="link">Checking the environment</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/environmentUtils.html"><a href="manual/environmentUtils.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html" data-ice="link">ErrorHandler</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/errorHandler.html"><a href="manual/errorHandler.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/logger.html"><a href="manual/logger.html" data-ice="link">Logger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#colored-messages" data-ice="link">Colored messages</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#multiple-messages-at-once" data-ice="link">Multiple messages at once</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#prefix" data-ice="link">Prefix</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#date-and-time" data-ice="link">Date and Time</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/logger.html"><a href="manual/logger.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/logger.html"><a href="manual/logger.html#applogger" data-ice="link">appLogger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/logger.html"><a href="manual/logger.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html" data-ice="link">packageInfo</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packageInfo.html"><a href="manual/packageInfo.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html" data-ice="link">PathUtils</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#build-paths-relative-to-the-project-root-directory" data-ice="link">Build paths relative to the project root directory</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#multiple-locations" data-ice="link">Multiple locations</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/pathUtils.html"><a href="manual/pathUtils.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html" data-ice="link">rootRequire</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#without-jimple" data-ice="link">Without Jimple</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#with-jimple" data-ice="link">With Jimple</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/rootRequire.html"><a href="manual/rootRequire.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/APIClient.html"><a href="manual/APIClient.html" data-ice="link">APIClient</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#features" data-ice="link">Features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/APIClient.html"><a href="manual/APIClient.html#configurable-endpoints" data-ice="link">Configurable endpoints</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#endpoint-objects" data-ice="link">Endpoint objects</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#sub-collections-of-endpoints" data-ice="link">Sub collections of endpoints</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#built-in-request-methods" data-ice="link">Built-in request methods</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#default-headers" data-ice="link">Default headers</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/APIClient.html"><a href="manual/APIClient.html#authorization-token" data-ice="link">Authorization token</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/APIClient.html"><a href="manual/APIClient.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/deferred.html"><a href="manual/deferred.html" data-ice="link">deferred</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/deferred.html"><a href="manual/deferred.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/deferred.html"><a href="manual/deferred.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html" data-ice="link">EventsHub</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#listen-and-emit" data-ice="link">Listen and emit</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#reduce-a-variable" data-ice="link">Reduce a variable</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/eventsHub.html"><a href="manual/eventsHub.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html" data-ice="link">ObjectUtils</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-merge--code-" data-ice="link">merge</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-copy--code-" data-ice="link">copy</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-get--code-" data-ice="link">get</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-set--code-" data-ice="link">set</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-extract--code-" data-ice="link">extract</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#-code-delete--code-" data-ice="link">delete</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/objectUtils.html"><a href="manual/objectUtils.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html" data-ice="link">SimpleStorage</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#basic" data-ice="link">Basic</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#working-with-entries" data-ice="link">Working with entries</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/simpleStorage.html"><a href="manual/simpleStorage.html#technical-documentation" data-ice="link">Technical documentation</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="environmentutils">EnvironmentUtils</h1><p>A really small service to centralize the place where you read environment variables and check if you are running on development or production.</p>
<p>Is not uncommon nowadays for Node apps to be checking <code>NODE_ENV</code> and other environment variables in order to do or not to do some stuff, and having multiple calls to <code>process.env</code> on different places of your app may not be a good idea: It&apos;s hard to track and maintain.</p>
<h2 id="example">Example</h2><p>Let&apos;s say your code looks something like this:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">if (process.env.NODE_ENV !== &apos;production&apos;) {
  addSomeStuffForDevelopment();
}

console.log(`Hello ${process.env.NAME}`);</code>
</code></pre>
<p>Let&apos;s implement the same but with <code>EnvironmentUtils</code>:</p>
<h3 id="without-jimple">Without Jimple</h3><blockquote>
<p>If you haven&apos;t tried <a href="https://github.com/fjorgemota/jimple">Jimple</a>, give it a try, it&apos;s excellent for organizing your app dependencies and services.</p>
</blockquote>
<p>Let&apos;s start with the setup:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { EnvironmentUtils } = require(&apos;wootils/node&apos;);
// Construct an instance.
const environmentUtils = new EnvironmentUtils();</code>
</code></pre>
<p>Now, to update the code:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">if (environmentUtils.development()) {
  addSomeStuffForDevelopment();
}
// The service allows you to set a default in case the variable is not defined.
const name = environmentUtils.get(&apos;NAME&apos;, &apos;Rosario&apos;);
console.log(`Hello ${name}`);</code>
</code></pre>
<p>Done! Now you are not manually checking for <code>NODE_ENV</code> and all your variables are being read on a single place.</p>
<h3 id="with-jimple">With Jimple</h3><p>Let&apos;s setup a dummy app and register the service:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// Import all the required modules
const Jimple = require(&apos;jimple&apos;);
const { environmentUtils } = require(&apos;wootils/node/providers&apos;);
// Create a dummy app
const app = new Jimple();

app.register(environmentUtils);</code>
</code></pre>
<p>Now, to update the code:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">// The imported provider has the same name, that&apos;s why I called it `envUtils`.
const envUtils = app.get(&apos;environmentUtils&apos;);
if (envUtils.development()) {
  addSomeStuffForDevelopment();
}
// The service allows you to set a default in case the variable is not defined.
const name = envUtils.get(&apos;NAME&apos;, &apos;Rosario&apos;);
console.log(`Hello ${name}`);</code>
</code></pre>
<p>Done! Now you are not manually checking for <code>NODE_ENV</code> and all your variables are being read on a single place.</p>
<h2 id="features">Features</h2><h3 id="reading-variables">Reading variables</h3><p>This was demonstrated on the example above. You just need to <code>.get()</code> with the name of the variable you want to read.</p>
<h3 id="checking-the-environment">Checking the environment</h3><p>No more <code>if (process.env.NODE_ENV ...</code>, <code>EnvironmentUtils</code> does it once when you instantiate it and then gives you <code>production()</code> and <code>development()</code> for you to use.</p>
<h2 id="technical-documentation">Technical documentation</h2><p>The code is fully documented with <a href="https://esdoc.org">ESDoc</a> and you can either read the generated documentation <a href="https://homer0.github.io/wootils/class/wootils/node/environmentUtils.js~EnvironmentUtils.html">online</a> or generate it yourself using:</p>
<pre><code class="lang-bash"><code class="source-code prettyprint"># You can either use npm or yarn, it doesn&apos;t matter
npm run docs
open ./docs/index.html</code>
</code></pre>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
